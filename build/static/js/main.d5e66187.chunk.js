(this.webpackJsonpnoteful=this.webpackJsonpnoteful||[]).push([[0],{32:function(e,t,n){},40:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n(1),c=n.n(o),a=n(25),s=n.n(a),i=n(11),d=(n(32),n(21)),l=n(22),j=n(3),u=n(4),h=n(6),b=n(5),f=n(2),p=c.a.createContext({notes:[],folders:[],addFolder:function(){},addNote:function(){},deleteNote:function(){}}),O="https://damp-castle-16994.herokuapp.com/api",m=n(16),v=n.n(m),x=function(e){Object(h.a)(n,e);var t=Object(b.a)(n);function n(){var e;Object(j.a)(this,n);for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).state={error:null},e.handleSubmit=function(t){t.preventDefault();var n=t.target.name,r={id:v()(),name:n.value};e.setState({error:null}),fetch("".concat(O,"/folders"),{method:"POST",body:JSON.stringify(r),headers:{"content-type":"application/json"}}).then((function(e){return e.ok?e.json():e.json().then((function(e){throw e}))})).then((function(t){console.log(e.context),n.value="",e.context.addFolder(t)})).catch((function(t){console.log(t),e.setState({error:t})})),e.props.history.push("/")},e}return Object(u.a)(n,[{key:"render",value:function(){var e=this.state.error;return Object(r.jsxs)("div",{className:"centerit addFolder",children:[Object(r.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(r.jsx)("label",{htmlFor:"name",children:"Add Folder:"}),Object(r.jsx)("br",{}),Object(r.jsx)("input",{type:"text",name:"name",id:"name",required:!0}),Object(r.jsx)("br",{}),Object(r.jsx)("button",{type:"submit",children:"Add Folder"})]}),e&&Object(r.jsx)("p",{children:e.message})]})}}]),n}(o.Component);x.contextType=p;var N=x,y=function(e){Object(h.a)(n,e);var t=Object(b.a)(n);function n(){return Object(j.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"showFolder",value:function(e){this.props.history.push(e)}},{key:"render",value:function(){var e=this,t=this.context,n=t.folders,o=void 0===n?[]:n;t.notes;return Object(r.jsxs)("div",{className:"NoteListNav",children:[Object(r.jsx)("ul",{className:"NoteListNav__list",children:o.map((function(e){return Object(r.jsx)("li",{children:Object(r.jsxs)(i.c,{className:"NoteListNav__folder-link",to:"/folder/".concat(e.id),children:[Object(r.jsx)("span",{className:"NoteListNav__num-notes"}),e.name]})},e.id)}))}),Object(r.jsx)("div",{className:"centerit addFolder",children:Object(r.jsxs)("button",{type:"button",onClick:function(){return e.showFolder("/add-folder")},children:[Object(r.jsx)("br",{}),"Add Folder"]})})]})}}]),n}(c.a.Component);y.contextType=p;var k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return e.find((function(e){return e.id===t}))},g=function(e){Object(h.a)(n,e);var t=Object(b.a)(n);function n(){return Object(j.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var e=this,t=this.context,n=t.notes,o=t.folders,c=this.props.match.params.noteId,a=function(){var e=arguments.length>1?arguments[1]:void 0;return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).find((function(t){return t.id===e}))}(o,(k(n,c)||{}).folderid);return Object(r.jsxs)("div",{className:"centerit",children:[Object(r.jsxs)("button",{tag:"button",role:"link",onClick:function(){return e.props.history.goBack()},className:"NotePageNav__back-button",children:[Object(r.jsx)("br",{}),"Back"]}),a&&Object(r.jsx)("h3",{className:"NotePageNav__folder-name",children:a.name})]})}}]),n}(c.a.Component);g.defaultProps={history:{goBack:function(){}},match:{params:{}}},g.contextType=p;var C=function(e){Object(h.a)(n,e);var t=Object(b.a)(n);function n(){var e;Object(j.a)(this,n);for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).handleClickDelete=function(t){t.preventDefault();var n=e.props.id;fetch("".concat(O,"/notes/").concat(n),{method:"DELETE",headers:{"content-type":"application/json"}}).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))})).then((function(){e.context.deleteNote(n),e.props.onDeleteNote(n)})).catch((function(e){console.error({error:e})}))},e}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props,t=e.name,n=e.id,o=e.modified;return Object(r.jsxs)("div",{className:"Note",children:[Object(r.jsx)("h2",{className:"Note__title",children:Object(r.jsx)(i.b,{to:"/note/".concat(n),children:t})}),Object(r.jsxs)("button",{className:"Note__delete",type:"button",onClick:this.handleClickDelete,children:[" ","remove"]}),Object(r.jsx)("div",{className:"Note__dates",children:Object(r.jsxs)("div",{className:"Note__dates-modified",children:["Modified"," ",Object(r.jsx)("span",{className:"Date",children:o})]})})]})}}]),n}(c.a.Component);C.defaultProps={onDeleteNote:function(){}},C.contextType=p;var S=function(e){Object(h.a)(n,e);var t=Object(b.a)(n);function n(){var e;Object(j.a)(this,n);for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).state={error:null},e.handleSubmit=function(t){t.preventDefault();var n=t.target,r=n.name,o=n.content,c=n.folderid,a={id:v()(),name:r.value,modified:Date(),folderid:c.value,content:o.value};console.log(a),e.setState({error:null}),fetch("".concat(O,"/notes"),{method:"POST",body:JSON.stringify(a),headers:{"content-type":"application/json"}}).then((function(e){return e.ok?e.json():e.json().then((function(e){throw e}))})).then((function(t){r.value="",c.value="",o.value="",e.context.addNote(t)})).catch((function(t){console.log(t),e.setState({error:t})})),e.props.history.push("/")},e}return Object(u.a)(n,[{key:"render",value:function(){var e=this.context.folders,t=void 0===e?[]:e;return Object(r.jsx)("div",{className:"centerit",children:Object(r.jsxs)("div",{className:"keepLeft",children:[Object(r.jsx)("h2",{children:"Create A Note"}),Object(r.jsx)("div",{className:"",children:Object(r.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(r.jsxs)("label",{htmlFor:"name",children:["Name:",Object(r.jsx)("br",{})]}),Object(r.jsx)("input",{type:"text",id:"name",name:"name",required:!0}),Object(r.jsx)("br",{}),Object(r.jsxs)("label",{htmlFor:"content",children:["Content: ",Object(r.jsx)("br",{})]}),Object(r.jsx)("textarea",{id:"content",name:"content",required:!0}),Object(r.jsx)("br",{}),Object(r.jsxs)("label",{htmlFor:"folder",children:["Folder: ",Object(r.jsx)("br",{})]}),Object(r.jsx)("select",{id:"folderid",name:"folderid",required:!0,children:t.map((function(e){return Object(r.jsx)("option",{value:e.id,id:"folderid",name:"folderid",children:e.name},e.id)}))}),Object(r.jsx)("br",{}),Object(r.jsx)("button",{type:"submit",children:"Add Note"})]})})]})})}}]),n}(o.Component);S.contextType=p;var _=S,F=function(e){Object(h.a)(n,e);var t=Object(b.a)(n);function n(){return Object(j.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"showNote",value:function(e){this.props.history.push(e)}},{key:"render",value:function(){var e=this,t=this.props.match.params.folderid,n=this.context.notes,o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return t?e.filter((function(e){return e.folderid===t})):e}(void 0===n?[]:n,t);return Object(r.jsxs)("section",{className:"NoteListMain",children:[Object(r.jsx)("ul",{children:o.map((function(e){return Object(r.jsx)("li",{children:Object(r.jsx)(C,{id:e.id,name:e.name,modified:e.modified})},e.id)}))}),Object(r.jsx)("div",{className:"centerit",children:Object(r.jsxs)("button",{tag:i.b,type:"button",onClick:function(){return e.showNote("/add-note")},children:[Object(r.jsx)("br",{}),"Note"]})})]})}}]),n}(c.a.Component);F.defaultProps={match:{params:{}}},F.contextType=p;var D=function(e){Object(h.a)(n,e);var t=Object(b.a)(n);function n(){var e;Object(j.a)(this,n);for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).handleDeleteNote=function(t){e.props.history.push("/")},e}return Object(u.a)(n,[{key:"render",value:function(){var e=this.context.notes,t=void 0===e?[]:e,n=this.props.match.params.noteId,o=k(t,n)||{content:"No Content"};return Object(r.jsxs)("section",{className:"NotePageMain",children:[Object(r.jsx)(C,{id:o.id,name:o.name,modified:o.modified,onDeleteNote:this.handleDeleteNote}),Object(r.jsx)("div",{className:"NotePageMain__content",children:o.content.split(/\n \r|\n/).map((function(e,t){return Object(r.jsx)("p",{children:e},t)}))})]})}}]),n}(c.a.Component);D.defaultProps={match:{params:{}}},D.contextType=p;var P=function(e){Object(h.a)(n,e);var t=Object(b.a)(n);function n(){return Object(j.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(r.jsx)("div",{children:Object(r.jsx)("h1",{children:Object(r.jsx)(i.b,{to:"/",children:"Noteful"})})})}}]),n}(o.Component),w=function(e){Object(h.a)(n,e);var t=Object(b.a)(n);function n(e){var r;return Object(j.a)(this,n),(r=t.call(this,e)).state={hasError:!1},r}return Object(u.a)(n,[{key:"render",value:function(){return this.state.hasError?Object(r.jsx)("h2",{children:"Error Loading Page..."}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),n}(o.Component),A=function(e){Object(h.a)(n,e);var t=Object(b.a)(n);function n(){var e;Object(j.a)(this,n);for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).state={notes:[],folders:[]},e.handleDeleteNote=function(t){e.setState({notes:e.state.notes.filter((function(e){return e.id!==t}))})},e.addFolder=function(t){e.setState({folders:[].concat(Object(l.a)(e.state.folders),[t])})},e.addNote=function(t){e.setState({notes:[].concat(Object(l.a)(e.state.notes),[t])})},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this;Promise.all([fetch("".concat(O,"/notes")),fetch("".concat(O,"/folders"))]).then((function(e){var t=Object(d.a)(e,2),n=t[0],r=t[1];return n.ok?r.ok?Promise.all([n.json(),r.json()]):r.json().then((function(e){return Promise.reject(e)})):n.json().then((function(e){return Promise.reject(e)}))})).then((function(t){var n=Object(d.a)(t,2),r=n[0],o=n[1];e.setState({notes:r,folders:o})})).catch((function(e){console.error({error:e})}))}},{key:"renderNavRoutes",value:function(){return Object(r.jsx)("div",{children:Object(r.jsxs)(w,{children:[["/","/folder/:folderid"].map((function(e){return Object(r.jsx)(f.a,{exact:!0,path:e,component:y},e)})),Object(r.jsx)(f.a,{path:"/note/:noteId",component:g}),Object(r.jsx)(f.a,{path:"/add-folder",component:g}),Object(r.jsx)(f.a,{path:"/add-note",component:g})]})})}},{key:"renderMainRoutes",value:function(){return Object(r.jsx)("div",{children:Object(r.jsxs)(w,{children:[["/","/folder/:folderid"].map((function(e){return Object(r.jsx)(f.a,{exact:!0,path:e,component:F},e)})),Object(r.jsx)(f.a,{path:"/note/:noteId",component:D}),Object(r.jsx)(f.a,{path:"/add-note",component:_}),Object(r.jsx)(f.a,{path:"/add-folder",component:N})]})})}},{key:"render",value:function(){var e={notes:this.state.notes,folders:this.state.folders,deleteNote:this.handleDeleteNote,addFolder:this.addFolder,addNote:this.addNote};return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)(p.Provider,{value:e,children:Object(r.jsxs)("div",{children:[Object(r.jsx)("header",{children:Object(r.jsx)(w,{children:Object(r.jsx)(P,{})})}),Object(r.jsxs)("main",{className:"row",children:[Object(r.jsx)("div",{className:"sidebar",children:this.renderNavRoutes()}),Object(r.jsx)("div",{className:"maincontent",children:this.renderMainRoutes()})]})]})})})}}]),n}(o.Component);s.a.render(Object(r.jsx)(c.a.StrictMode,{children:Object(r.jsx)(i.a,{children:Object(r.jsx)(A,{})})}),document.getElementById("root"))}},[[40,1,2]]]);
//# sourceMappingURL=main.d5e66187.chunk.js.map